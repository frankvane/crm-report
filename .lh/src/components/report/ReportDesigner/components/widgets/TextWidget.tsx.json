{
    "sourceFile": "src/components/report/ReportDesigner/components/widgets/TextWidget.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1747375904836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747375917740,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,12 +13,10 @@\n   italic?: boolean;\r\n   rotation?: number;\r\n   opacity?: number;\r\n   visible?: boolean;\r\n-  locked?: boolean;\r\n   style?: React.CSSProperties;\r\n   placeholder?: string;\r\n-  disabled?: boolean;\r\n }\r\n \r\n const getValueFromData = (data: any, dataBinding: any) => {\r\n   if (!dataBinding) return \"\";\r\n@@ -49,12 +47,10 @@\n   italic = false,\r\n   rotation = 0,\r\n   opacity = 1,\r\n   visible = true,\r\n-  locked = false,\r\n   style = {},\r\n   placeholder = \"请输入内容\",\r\n-  disabled = false,\r\n }) => {\r\n   if (!visible) return null;\r\n   const text = getValueFromData(data, dataBinding);\r\n   return (\r\n"
                },
                {
                    "date": 1747376344459,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,73 +1,73 @@\n-import React from \"react\";\r\n-\r\n-interface TextWidgetProps {\r\n-  data?: any; // 传入的数据对象\r\n-  dataBinding: {\r\n-    dataSource?: string;\r\n-    field?: string;\r\n-    expression?: string;\r\n-  };\r\n-  fontSize?: number;\r\n-  color?: string;\r\n-  fontWeight?: boolean;\r\n-  italic?: boolean;\r\n-  rotation?: number;\r\n-  opacity?: number;\r\n-  visible?: boolean;\r\n-  style?: React.CSSProperties;\r\n-  placeholder?: string;\r\n-}\r\n-\r\n-const getValueFromData = (data: any, dataBinding: any) => {\r\n-  if (!dataBinding) return \"\";\r\n-  // 优先expression\r\n-  if (dataBinding.expression) {\r\n-    try {\r\n-      // eslint-disable-next-line no-new-func\r\n-      return (\r\n-        new Function(\"data\", `return (${dataBinding.expression})`)(data) || \"\"\r\n-      );\r\n-    } catch {\r\n-      return \"\";\r\n-    }\r\n-  }\r\n-  // 其次field\r\n-  if (dataBinding.field && data) {\r\n-    return data[dataBinding.field] || \"\";\r\n-  }\r\n-  return \"\";\r\n-};\r\n-\r\n-const TextWidget: React.FC<TextWidgetProps> = ({\r\n-  data = {},\r\n-  dataBinding = {},\r\n-  fontSize = 16,\r\n-  color = \"#222\",\r\n-  fontWeight = false,\r\n-  italic = false,\r\n-  rotation = 0,\r\n-  opacity = 1,\r\n-  visible = true,\r\n-  style = {},\r\n-  placeholder = \"请输入内容\",\r\n-}) => {\r\n-  if (!visible) return null;\r\n-  const text = getValueFromData(data, dataBinding);\r\n-  return (\r\n-    <div\r\n-      style={{\r\n-        fontSize,\r\n-        color,\r\n-        fontWeight: fontWeight ? \"bold\" : 400,\r\n-        fontStyle: italic ? \"italic\" : \"normal\",\r\n-        transform: `rotate(${rotation}deg)`,\r\n-        opacity,\r\n-        ...style,\r\n-      }}\r\n-    >\r\n-      {text || placeholder}\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default TextWidget;\r\n+import React from \"react\";\n+\n+interface TextWidgetProps {\n+  data?: any; // 传入的数据对象\n+  dataBinding: {\n+    dataSource?: string;\n+    field?: string;\n+    expression?: string;\n+  };\n+  fontSize?: number;\n+  color?: string;\n+  fontWeight?: boolean;\n+  italic?: boolean;\n+  rotation?: number;\n+  opacity?: number;\n+  visible?: boolean;\n+  style?: React.CSSProperties;\n+  placeholder?: string;\n+}\n+\n+const getValueFromData = (data: any, dataBinding: any) => {\n+  if (!dataBinding) return \"\";\n+  // 优先expression\n+  if (dataBinding.expression) {\n+    try {\n+      // eslint-disable-next-line no-new-func\n+      return (\n+        new Function(\"data\", `return (${dataBinding.expression})`)(data) || \"\"\n+      );\n+    } catch {\n+      return \"\";\n+    }\n+  }\n+  // 其次field\n+  if (dataBinding.field && data) {\n+    return data[dataBinding.field] || \"\";\n+  }\n+  return \"\";\n+};\n+\n+const TextWidget: React.FC<TextWidgetProps> = ({\n+  data = {},\n+  dataBinding = {},\n+  fontSize = 16,\n+  color = \"#222\",\n+  fontWeight = false,\n+  italic = false,\n+  rotation = 0,\n+  opacity = 1,\n+  visible = true,\n+  style = {},\n+  placeholder = \"请输入内容\",\n+}) => {\n+  if (!visible) return null;\n+  const text = getValueFromData(data, dataBinding);\n+  return (\n+    <div\n+      style={{\n+        fontSize,\n+        color,\n+        fontWeight: fontWeight ? \"bold\" : 400,\n+        fontStyle: italic ? \"italic\" : \"normal\",\n+        transform: `rotate(${rotation}deg)`,\n+        opacity,\n+        ...style,\n+      }}\n+    >\n+      {text || placeholder}\n+    </div>\n+  );\n+};\n+\n+export default TextWidget;\n"
                }
            ],
            "date": 1747375904836,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\n\r\ninterface TextWidgetProps {\r\n  data?: any; // 传入的数据对象\r\n  dataBinding: {\r\n    dataSource?: string;\r\n    field?: string;\r\n    expression?: string;\r\n  };\r\n  fontSize?: number;\r\n  color?: string;\r\n  fontWeight?: boolean;\r\n  italic?: boolean;\r\n  rotation?: number;\r\n  opacity?: number;\r\n  visible?: boolean;\r\n  locked?: boolean;\r\n  style?: React.CSSProperties;\r\n  placeholder?: string;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst getValueFromData = (data: any, dataBinding: any) => {\r\n  if (!dataBinding) return '';\r\n  // 优先expression\r\n  if (dataBinding.expression) {\r\n    try {\r\n      // eslint-disable-next-line no-new-func\r\n      return new Function('data', `return (${dataBinding.expression})`)(data) || '';\r\n    } catch {\r\n      return '';\r\n    }\r\n  }\r\n  // 其次field\r\n  if (dataBinding.field && data) {\r\n    return data[dataBinding.field] || '';\r\n  }\r\n  return '';\r\n};\r\n\r\nconst TextWidget: React.FC<TextWidgetProps> = ({\r\n  data = {},\r\n  dataBinding = {},\r\n  fontSize = 16,\r\n  color = \"#222\",\r\n  fontWeight = false,\r\n  italic = false,\r\n  rotation = 0,\r\n  opacity = 1,\r\n  visible = true,\r\n  locked = false,\r\n  style = {},\r\n  placeholder = \"请输入内容\",\r\n  disabled = false,\r\n}) => {\r\n  if (!visible) return null;\r\n  const text = getValueFromData(data, dataBinding);\r\n  return (\r\n    <div\r\n      style={{\r\n        fontSize,\r\n        color,\r\n        fontWeight: fontWeight ? \"bold\" : 400,\r\n        fontStyle: italic ? \"italic\" : \"normal\",\r\n        transform: `rotate(${rotation}deg)`,\r\n        opacity,\r\n        ...style,\r\n      }}\r\n    >\r\n      {text || placeholder}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextWidget;\r\n"
        }
    ]
}