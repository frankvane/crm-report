{
    "sourceFile": "src/components/report/ReportDesigner/schemas/labelComponentSchema.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1747149767959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747149781577,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,5 +91,5 @@\n       \"x-decorator\": \"FormItem\",\r\n       \"x-component\": \"Input\",\r\n     },\r\n   },\r\n-};\n\\ No newline at end of file\n+};\r\n"
                },
                {
                    "date": 1747149882074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n     },\r\n   },\r\n };\r\n \r\n-export const labelPropsSchema = {\r\n+export const commonPropsSchema = {\r\n   type: \"object\",\r\n   properties: {\r\n     text: {\r\n       type: \"string\",\r\n@@ -92,4 +92,11 @@\n       \"x-component\": \"Input\",\r\n     },\r\n   },\r\n };\r\n+\r\n+export const dataPropsSchema = () => ({\r\n+  type: \"object\",\r\n+  properties: {\r\n+    // Label组件如需数据绑定可在此扩展\r\n+  },\r\n+});\r\n"
                },
                {
                    "date": 1747182419654,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,102 +1,56 @@\n+// 标签组件 schema，rjsf 扁平化三段式\r\n export const basePropsSchema = {\r\n   type: \"object\",\r\n   properties: {\r\n-    name: {\r\n-      type: \"string\",\r\n-      title: \"名称\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Input\",\r\n-    },\r\n-    x: {\r\n-      type: \"number\",\r\n-      title: \"X\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"NumberPicker\",\r\n-    },\r\n-    y: {\r\n-      type: \"number\",\r\n-      title: \"Y\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"NumberPicker\",\r\n-    },\r\n-    width: {\r\n-      type: \"number\",\r\n-      title: \"宽度\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"NumberPicker\",\r\n-    },\r\n-    height: {\r\n-      type: \"number\",\r\n-      title: \"高度\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"NumberPicker\",\r\n-    },\r\n-    locked: {\r\n-      type: \"boolean\",\r\n-      title: \"锁定\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Select\",\r\n-      enum: [\r\n-        { label: \"是\", value: true },\r\n-        { label: \"否\", value: false },\r\n-      ],\r\n-    },\r\n-    visible: {\r\n-      type: \"boolean\",\r\n-      title: \"可见\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Select\",\r\n-      enum: [\r\n-        { label: \"是\", value: true },\r\n-        { label: \"否\", value: false },\r\n-      ],\r\n-    },\r\n-  },\r\n+    id: { type: \"string\", title: \"唯一标识\", readOnly: true },\r\n+    x: { type: \"number\", title: \"X 坐标\" },\r\n+    y: { type: \"number\", title: \"Y 坐标\" },\r\n+    width: { type: \"number\", title: \"宽度\" },\r\n+    height: { type: \"number\", title: \"高度\" },\r\n+    locked: { type: \"boolean\", title: \"锁定\" },\r\n+    visible: { type: \"boolean\", title: \"可见\", default: true }\r\n+  }\r\n };\r\n \r\n export const commonPropsSchema = {\r\n   type: \"object\",\r\n   properties: {\r\n-    text: {\r\n-      type: \"string\",\r\n-      title: \"标签内容\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Input\",\r\n-    },\r\n-    color: {\r\n-      type: \"string\",\r\n-      title: \"字体颜色\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Input\",\r\n-    },\r\n-    fontSize: {\r\n-      type: \"number\",\r\n-      title: \"字号\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"NumberPicker\",\r\n-    },\r\n+    label: { type: \"string\", title: \"标签内容\" },\r\n+    fontSize: { type: \"number\", title: \"字号\", default: 16 },\r\n+    color: { type: \"string\", title: \"颜色\", default: \"#222\" },\r\n     fontWeight: {\r\n       type: \"string\",\r\n-      title: \"字重\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Select\",\r\n-      enum: [\r\n-        { label: \"正常\", value: \"normal\" },\r\n-        { label: \"加粗\", value: \"bold\" },\r\n-      ],\r\n+      title: \"加粗\",\r\n+      enum: [\"normal\", \"bold\", \"bolder\", \"lighter\"],\r\n+      default: \"normal\"\r\n     },\r\n-    background: {\r\n+    textAlign: {\r\n       type: \"string\",\r\n-      title: \"背景色\",\r\n-      \"x-decorator\": \"FormItem\",\r\n-      \"x-component\": \"Input\",\r\n-    },\r\n-  },\r\n+      title: \"对齐方式\",\r\n+      enum: [\"left\", \"center\", \"right\"],\r\n+      default: \"left\"\r\n+    }\r\n+  }\r\n };\r\n \r\n-export const dataPropsSchema = () => ({\r\n+export const dataPropsSchema = {\r\n   type: \"object\",\r\n   properties: {\r\n-    // Label组件如需数据绑定可在此扩展\r\n-  },\r\n-});\r\n+    source: { type: \"string\", title: \"数据源\" },\r\n+    field: { type: \"string\", title: \"字段\" },\r\n+    format: {\r\n+      type: \"string\",\r\n+      title: \"格式化\",\r\n+      enum: [\"none\", \"currency\", \"date\", \"percent\"],\r\n+      default: \"none\"\r\n+    },\r\n+    expression: { type: \"string\", title: \"表达式\" },\r\n+    mockData: { type: \"object\", title: \"Mock数据\" }\r\n+  }\r\n+};\r\n+\r\n+export default {\r\n+  basePropsSchema,\r\n+  commonPropsSchema,\r\n+  dataPropsSchema\r\n+};\r\n"
                },
                {
                    "date": 1747182445696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,10 +7,10 @@\n     y: { type: \"number\", title: \"Y 坐标\" },\r\n     width: { type: \"number\", title: \"宽度\" },\r\n     height: { type: \"number\", title: \"高度\" },\r\n     locked: { type: \"boolean\", title: \"锁定\" },\r\n-    visible: { type: \"boolean\", title: \"可见\", default: true }\r\n-  }\r\n+    visible: { type: \"boolean\", title: \"可见\", default: true },\r\n+  },\r\n };\r\n \r\n export const commonPropsSchema = {\r\n   type: \"object\",\r\n@@ -21,17 +21,17 @@\n     fontWeight: {\r\n       type: \"string\",\r\n       title: \"加粗\",\r\n       enum: [\"normal\", \"bold\", \"bolder\", \"lighter\"],\r\n-      default: \"normal\"\r\n+      default: \"normal\",\r\n     },\r\n     textAlign: {\r\n       type: \"string\",\r\n       title: \"对齐方式\",\r\n       enum: [\"left\", \"center\", \"right\"],\r\n-      default: \"left\"\r\n-    }\r\n-  }\r\n+      default: \"left\",\r\n+    },\r\n+  },\r\n };\r\n \r\n export const dataPropsSchema = {\r\n   type: \"object\",\r\n@@ -41,16 +41,16 @@\n     format: {\r\n       type: \"string\",\r\n       title: \"格式化\",\r\n       enum: [\"none\", \"currency\", \"date\", \"percent\"],\r\n-      default: \"none\"\r\n+      default: \"none\",\r\n     },\r\n     expression: { type: \"string\", title: \"表达式\" },\r\n-    mockData: { type: \"object\", title: \"Mock数据\" }\r\n-  }\r\n+    mockData: { type: \"object\", title: \"Mock数据\" },\r\n+  },\r\n };\r\n \r\n export default {\r\n   basePropsSchema,\r\n   commonPropsSchema,\r\n-  dataPropsSchema\r\n+  dataPropsSchema,\r\n };\r\n"
                }
            ],
            "date": 1747149767959,
            "name": "Commit-0",
            "content": "export const basePropsSchema = {\r\n  type: \"object\",\r\n  properties: {\r\n    name: {\r\n      type: \"string\",\r\n      title: \"名称\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Input\",\r\n    },\r\n    x: {\r\n      type: \"number\",\r\n      title: \"X\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"NumberPicker\",\r\n    },\r\n    y: {\r\n      type: \"number\",\r\n      title: \"Y\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"NumberPicker\",\r\n    },\r\n    width: {\r\n      type: \"number\",\r\n      title: \"宽度\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"NumberPicker\",\r\n    },\r\n    height: {\r\n      type: \"number\",\r\n      title: \"高度\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"NumberPicker\",\r\n    },\r\n    locked: {\r\n      type: \"boolean\",\r\n      title: \"锁定\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Select\",\r\n      enum: [\r\n        { label: \"是\", value: true },\r\n        { label: \"否\", value: false },\r\n      ],\r\n    },\r\n    visible: {\r\n      type: \"boolean\",\r\n      title: \"可见\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Select\",\r\n      enum: [\r\n        { label: \"是\", value: true },\r\n        { label: \"否\", value: false },\r\n      ],\r\n    },\r\n  },\r\n};\r\n\r\nexport const labelPropsSchema = {\r\n  type: \"object\",\r\n  properties: {\r\n    text: {\r\n      type: \"string\",\r\n      title: \"标签内容\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Input\",\r\n    },\r\n    color: {\r\n      type: \"string\",\r\n      title: \"字体颜色\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Input\",\r\n    },\r\n    fontSize: {\r\n      type: \"number\",\r\n      title: \"字号\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"NumberPicker\",\r\n    },\r\n    fontWeight: {\r\n      type: \"string\",\r\n      title: \"字重\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Select\",\r\n      enum: [\r\n        { label: \"正常\", value: \"normal\" },\r\n        { label: \"加粗\", value: \"bold\" },\r\n      ],\r\n    },\r\n    background: {\r\n      type: \"string\",\r\n      title: \"背景色\",\r\n      \"x-decorator\": \"FormItem\",\r\n      \"x-component\": \"Input\",\r\n    },\r\n  },\r\n};"
        }
    ]
}